os.getcwd D:\_devs\Python01\gitdev\dsa2
D:\_devs\Python01\gitdev\dsa2
D:/_devs/Python01/gitdev/dsa2/
D:/_devs/Python01/gitdev/dsa2/data/
D:\_devs\Python01\gitdev\dsa2
D:/_devs/Python01/gitdev/dsa2/
D:/_devs/Python01/gitdev/dsa2/data/
D:/_devs/Python01/gitdev/dsa2/
os.getcwd D:\_devs\Python01\gitdev\dsa2
D:/_devs/Python01/gitdev/dsa2/
  ('D:/_devs/Python01/gitdev/dsa2/data/output/airbnb/a01_LGBMRegressor/',) 
  ('#### Model Params Dynamic loading  ###############################################',) 

  ('D:\\_devs\\Python01\\gitdev',) 
D:\_devs\Python01\gitdev\dsa2
D:/_devs/Python01/gitdev/dsa2/
D:/_devs/Python01/gitdev/dsa2/data/
D:\_devs\Python01\gitdev\dsa2
D:/_devs/Python01/gitdev/dsa2/
D:/_devs/Python01/gitdev/dsa2/data/
  ('#### load input column family  ###################################################',) 
  ({'coly': 'price', 'colid': 'id', 'colcat': ['host_id', 'host_location', 'host_response_time', 'host_response_rate', 'host_is_superhost', 'host_neighbourhood', 'host_verifications', 'host_has_profile_pic', 'host_identity_verified', 'street', 'neighbourhood', 'neighbourhood_cleansed', 'neighbourhood_group_cleansed', 'city', 'zipcode', 'smart_location', 'is_location_exact', 'property_type', 'room_type', 'accommodates', 'bathrooms', 'bedrooms', 'beds', 'bed_type', 'guests_included', 'calendar_updated', 'license', 'instant_bookable', 'cancellation_policy', 'require_guest_profile_picture', 'require_guest_phone_verification', 'scrape_id'], 'colnum': ['host_listings_count', 'latitude', 'longitude', 'square_feet', 'weekly_price', 'monthly_price', 'security_deposit', 'cleaning_fee', 'extra_people', 'minimum_nights', 'maximum_nights', 'availability_30', 'availability_60', 'availability_90', 'availability_365', 'number_of_reviews', 'review_scores_rating', 'review_scores_accuracy', 'review_scores_cleanliness', 'review_scores_checkin', 'review_scores_communication', 'review_scores_location', 'review_scores_value', 'calculated_host_listings_count', 'reviews_per_month'], 'coltext': ['name', 'summary', 'space', 'description', 'neighborhood_overview', 'notes', 'transit', 'access', 'interaction', 'house_rules', 'host_name', 'host_about', 'amenities'], 'coldate': ['last_scraped', 'host_since', 'first_review', 'last_review'], 'colcross': ['name', 'host_is_superhost', 'is_location_exact', 'monthly_price', 'review_scores_value', 'review_scores_rating', 'reviews_per_month'], 'usdpricescol': ['price', 'weekly_price', 'monthly_price', 'security_deposit', 'cleaning_fee', 'extra_people']},) 
  ('#### Preprocess  #################################################################',) 

  ({'coly': 'price', 'colid': 'id', 'colcat': ['host_id', 'host_location', 'host_response_time', 'host_response_rate', 'host_is_superhost', 'host_neighbourhood', 'host_verifications', 'host_has_profile_pic', 'host_identity_verified', 'street', 'neighbourhood', 'neighbourhood_cleansed', 'neighbourhood_group_cleansed', 'city', 'zipcode', 'smart_location', 'is_location_exact', 'property_type', 'room_type', 'accommodates', 'bathrooms', 'bedrooms', 'beds', 'bed_type', 'guests_included', 'calendar_updated', 'license', 'instant_bookable', 'cancellation_policy', 'require_guest_profile_picture', 'require_guest_phone_verification', 'scrape_id'], 'colnum': ['host_listings_count', 'latitude', 'longitude', 'square_feet', 'weekly_price', 'monthly_price', 'security_deposit', 'cleaning_fee', 'extra_people', 'minimum_nights', 'maximum_nights', 'availability_30', 'availability_60', 'availability_90', 'availability_365', 'number_of_reviews', 'review_scores_rating', 'review_scores_accuracy', 'review_scores_cleanliness', 'review_scores_checkin', 'review_scores_communication', 'review_scores_location', 'review_scores_value', 'calculated_host_listings_count', 'reviews_per_month'], 'coltext': ['name', 'summary', 'space', 'description', 'neighborhood_overview', 'notes', 'transit', 'access', 'interaction', 'house_rules', 'host_name', 'host_about', 'amenities'], 'coldate': ['last_scraped', 'host_since', 'first_review', 'last_review'], 'colcross': ['name', 'host_is_superhost', 'is_location_exact', 'monthly_price', 'review_scores_value', 'review_scores_rating', 'reviews_per_month'], 'usdpricescol': ['price', 'weekly_price', 'monthly_price', 'security_deposit', 'cleaning_fee', 'extra_people']},) 

  (['host_listings_count', 'latitude', 'longitude', 'square_feet', 'weekly_price', 'monthly_price', 'security_deposit', 'cleaning_fee', 'extra_people', 'minimum_nights', 'maximum_nights', 'availability_30', 'availability_60', 'availability_90', 'availability_365', 'number_of_reviews', 'review_scores_rating', 'review_scores_accuracy', 'review_scores_cleanliness', 'review_scores_checkin', 'review_scores_communication', 'review_scores_location', 'review_scores_value', 'calculated_host_listings_count', 'reviews_per_month', 'host_id', 'host_location', 'host_response_time', 'host_response_rate', 'host_is_superhost', 'host_neighbourhood', 'host_verifications', 'host_has_profile_pic', 'host_identity_verified', 'street', 'neighbourhood', 'neighbourhood_cleansed', 'neighbourhood_group_cleansed', 'city', 'zipcode', 'smart_location', 'is_location_exact', 'property_type', 'room_type', 'accommodates', 'bathrooms', 'bedrooms', 'beds', 'bed_type', 'guests_included', 'calendar_updated', 'license', 'instant_bookable', 'cancellation_policy', 'require_guest_profile_picture', 'require_guest_phone_verification', 'scrape_id', 'name', 'summary', 'space', 'description', 'neighborhood_overview', 'notes', 'transit', 'access', 'interaction', 'house_rules', 'host_name', 'host_about', 'amenities', 'last_scraped', 'host_since', 'first_review', 'last_review'],) 

  ('loading', 'id', 'D:/_devs/Python01/gitdev/dsa2/data/input/airbnb/train//features.zip') 
['D:/_devs/Python01/gitdev/dsa2/data/input/airbnb/train\\features.parquet']

  ('y_norm_fun preprocess_pars',) 

  ('D:/_devs/Python01/gitdev/dsa2/data/output/airbnb/a01_LGBMRegressor//pipeline//y_norm.pkl',) 

  (host_listings_count    float32
latitude               float32
longitude              float32
square_feet            float32
weekly_price           float32
                        ...   
amenities               object
last_scraped            object
host_since              object
first_review            object
last_review             object
Length: 74, dtype: object,) 

  (host_id                               int64
host_location                        object
host_response_time                   object
host_response_rate                   object
host_is_superhost                    object
host_neighbourhood                   object
host_verifications                   object
host_has_profile_pic                 object
host_identity_verified               object
street                               object
neighbourhood                        object
neighbourhood_cleansed               object
neighbourhood_group_cleansed         object
city                                 object
zipcode                              object
smart_location                       object
is_location_exact                    object
property_type                        object
room_type                            object
accommodates                          int64
bathrooms                           float64
bedrooms                            float64
beds                                float64
bed_type                             object
guests_included                       int64
calendar_updated                     object
license                              object
instant_bookable                     object
cancellation_policy                  object
require_guest_profile_picture        object
require_guest_phone_verification     object
scrape_id                             int64
dtype: object, {'cat_map': {'host_id': {}, 'host_location': {}, 'host_response_time': {}, 'host_response_rate': {}, 'host_is_superhost': {}, 'host_neighbourhood': {}, 'host_verifications': {}, 'host_has_profile_pic': {}, 'host_identity_verified': {}, 'street': {}, 'neighbourhood': {}, 'neighbourhood_cleansed': {}, 'neighbourhood_group_cleansed': {}, 'city': {}, 'zipcode': {}, 'smart_location': {}, 'is_location_exact': {}, 'property_type': {}, 'room_type': {}, 'accommodates': {}, 'bathrooms': {}, 'bedrooms': {}, 'beds': {}, 'bed_type': {}, 'guests_included': {}, 'calendar_updated': {}, 'license': {}, 'instant_bookable': {}, 'cancellation_policy': {}, 'require_guest_profile_picture': {}, 'require_guest_phone_verification': {}, 'scrape_id': {}}, 'cat_map_inverse': {'host_id': {}, 'host_location': {}, 'host_response_time': {}, 'host_response_rate': {}, 'host_is_superhost': {}, 'host_neighbourhood': {}, 'host_verifications': {}, 'host_has_profile_pic': {}, 'host_identity_verified': {}, 'street': {}, 'neighbourhood': {}, 'neighbourhood_cleansed': {}, 'neighbourhood_group_cleansed': {}, 'city': {}, 'zipcode': {}, 'smart_location': {}, 'is_location_exact': {}, 'property_type': {}, 'room_type': {}, 'accommodates': {}, 'bathrooms': {}, 'bedrooms': {}, 'beds': {}, 'bed_type': {}, 'guests_included': {}, 'calendar_updated': {}, 'license': {}, 'instant_bookable': {}, 'cancellation_policy': {}, 'require_guest_profile_picture': {}, 'require_guest_phone_verification': {}, 'scrape_id': {}}}) 

  ('#### Colcat to integer encoding ',) 

  ('##### Coltext processing   ###############################################################',) 
['', ' ', '!', '"', '#', '$', '%', '&', "'", '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', '\\', ']', '^', '_', '`', 'a', 'about', 'above', 'after', 'again', 'against', 'ain', 'all', 'am', 'an', 'and', 'any', 'are', 'aren', "aren't", 'as', 'at', 'be', 'because', 'been', 'before', 'being', 'below', 'between', 'both', 'but', 'by', 'can', 'couldn', "couldn't", 'd', 'did', 'didn', "didn't", 'do', 'does', 'doesn', "doesn't", 'doing', 'don', "don't", 'down', 'during', 'each', 'few', 'for', 'from', 'further', 'had', 'hadn', "hadn't", 'has', 'hasn', "hasn't", 'have', 'haven', "haven't", 'having', 'he', 'her', 'here', 'hers', 'herself', 'him', 'himself', 'his', 'how', 'i', 'if', 'in', 'into', 'is', 'isn', "isn't", 'it', "it's", 'its', 'itself', 'just', 'll', 'm', 'ma', 'me', 'mightn', "mightn't", 'more', 'most', 'mustn', "mustn't", 'my', 'myself', 'needn', "needn't", 'no', 'nor', 'not', 'now', 'o', 'of', 'off', 'on', 'once', 'only', 'or', 'other', 'our', 'ours', 'ourselves', 'out', 'over', 'own', 're', 's', 'same', 'shan', "shan't", 'she', "she's", 'should', "should've", 'shouldn', "shouldn't", 'so', 'some', 'such', 't', 'than', 'that', "that'll", 'the', 'their', 'theirs', 'them', 'themselves', 'then', 'there', 'these', 'they', 'this', 'those', 'through', 'to', 'too', 'under', 'until', 'up', 've', 'very', 'was', 'wasn', "wasn't", 'we', 'were', 'weren', "weren't", 'what', 'when', 'where', 'which', 'while', 'who', 'whom', 'why', 'will', 'with', 'won', "won't", 'wouldn', "wouldn't", 'y', 'you', "you'd", "you'll", "you're", "you've", 'your', 'yours', 'yourself', 'yourselves', '{', '|', '}', '~', '€']
os.getcwd D:\_devs\Python01\gitdev\dsa2
evolutionary_search None No module named 'evolutionary_search'
imported <module 'lightgbm' from 'D:\\_devs\\Python01\\ana3\\envs\\py36\\lib\\site-packages\\lightgbm\\__init__.py'>
imported <module 'kmodes' from 'D:\\_devs\\Python01\\ana3\\envs\\py36\\lib\\site-packages\\kmodes\\__init__.py'>
imported <module 'catboost' from 'D:\\_devs\\Python01\\ana3\\envs\\py36\\lib\\site-packages\\catboost\\__init__.py'>
imported <module 'tpot' from 'D:\\_devs\\Python01\\ana3\\envs\\py36\\lib\\site-packages\\tpot\\__init__.py'>
os.getcwd D:\_devs\Python01\gitdev\dsa2

  (Empty DataFrame
Columns: [name]
Index: [],) 

  ('name',) 
Traceback (most recent call last):
  File "airbnb_regression.py", line 409, in <module>
    fire.Fire()
  File "D:\_devs\Python01\ana3\envs\py36\lib\site-packages\fire\core.py", line 138, in Fire
    component_trace = _Fire(component, args, parsed_flag_args, context, name)
  File "D:\_devs\Python01\ana3\envs\py36\lib\site-packages\fire\core.py", line 468, in _Fire
    target=component.__name__)
  File "D:\_devs\Python01\ana3\envs\py36\lib\site-packages\fire\core.py", line 672, in _CallAndUpdateTrace
    component = fn(*varargs, **kwargs)
  File "airbnb_regression.py", line 331, in train
    path_config_model =  path_config_model , n_sample = n_sample)
  File "D:\_devs\Python01\gitdev\dsa2\source\run_train.py", line 199, in run_train
    preprocess_pars, filter_pars, path_features_store=path_features_store)
  File "D:\_devs\Python01\gitdev\dsa2\source\run_preprocess.py", line 309, in preprocess
    dftext_i = pipe_text( df[[coltext_i ]], coltext_i, pars )
  File "D:\_devs\Python01\gitdev\dsa2\source\run_preprocess.py", line 132, in pipe_text
    coltext_freq, word_tokeep           = pd_coltext_wordfreq(df, col, stopwords, ntoken=100)  ## nb of words to keep
  File "D:\_devs\Python01\gitdev\dsa2\source\run_preprocess.py", line 104, in pd_coltext_wordfreq
    coltext_freq = df[col].apply(lambda x: pd.value_counts(x.split(sep))).sum(axis=0).reset_index()
AttributeError: 'int' object has no attribute 'reset_index'
